{% extends "account/base.html" %}
{% load static %}
{% block inner %}
  <section class="text-gray-600 body-font">
    <div class="container mx-auto flex px-5 py-10 md:flex-row flex-col items-center">
      <div class="lg:max-w-md lg:w-full md:h-md md:w-1/2 w-5/6 mb-10 md:mb-0 ">
        <img class="object-cover object-center rounded" alt="hero" src="{% static 'images/team_photo.png' %}">
      </div>
      <div
          class="lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center">
        <h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900">Clubs and Advocacy groups
          <br class="hidden lg:inline-block">
        </h1>
        <p class="mb-8 leading-relaxed">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
          magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
          consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
          pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
          est laborum.
        </p>
        <div class="flex justify-end">
          <button href="{% url 'membership:create_organization' %}"
                  class="uppercase focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 mt-4 sm:mt-0 inline-flex items-start justify-start px-6 py-3 bg-orange-600 hover:bg-orange-800 focus:outline-none rounded">
            <p class="text-sm font-medium leading-none text-white">
              <a href="{% url 'membership:create_organization' %}">
                Register a Club
              </a></p>
          </button>
        </div>
      </div>
    </div>
  </section>

  <div class="sm:px-6 w-full">
    <div class="bg-white dark:bg-gray-900  py-4 md:py-7 px-4 md:px-8 xl:px-10">
      <div class="sm:flex items-center justify-between">
        <form method="GET" class="flex">
          <input type="search" name="search" placeholder="Search" value="{{ request.GET.search }}"
                 class="border border-gray-300 py-2 px-4 rounded-l">
          <button type="submit" class="bg-teal-300 hover:bg-teal-500 text-white font-bold py-2 px-4 rounded-r">
            Search
          </button>
        </form>
        <div
            class="py-3 px-4 flex items-center text-sm font-medium leading-none text-gray-600 dark:text-gray-200  bg-gray-200 dark:bg-gray-800  hover:bg-gray-300   dark:hover:bg-gray-700  cursor-pointer rounded">
          <form method="GET" class="flex">

            <p>Sort By:</p>
            <select name="sort" id="sort" aria-label="select"
                    class="focus:text-indigo-600 focus:outline-none bg-transparent ml-1"
                    onchange="this.form.submit()">
              <option class="text-sm text-indigo-800" value="">Default</option>
              <option class="text-sm text-indigo-800" value="name"
                      {% if request.GET.sort == 'name' %}selected{% endif %}>Name (A-Z)
              </option>
              <option class="text-sm text-indigo-800" value="-name"
                      {% if request.GET.sort == '-name' %}selected{% endif %}>Name (Z-A)
              </option>
              <option class="text-sm text-indigo-800" value="type"
                      {% if request.GET.sort == 'type' %}selected{% endif %}>Type (A-Z)
              </option>
              <option class="text-sm text-indigo-800" value="-type"
                      {% if request.GET.sort == '-type' %}selected{% endif %}>Type (Z-A)
              </option>
              <option class="text-sm text-indigo-800" value="city"
                      {% if request.GET.sort == 'city' %}selected{% endif %}>City (A-Z)
              </option>
              <option class="text-sm text-indigo-800" value="-city"
                      {% if request.GET.sort == '-city' %}selected{% endif %}>City (Z-A)
              </option>
              <option class="text-sm text-indigo-800" value="state"
                      {% if request.GET.sort == 'state' %}selected{% endif %}>State (A-Z)
              </option>
              <option class="text-sm text-indigo-800" value="-state"
                      {% if request.GET.sort == '-state' %}selected{% endif %}>State (Z-A)
              </option>
            </select>
          </form>
          <form method="GET" class=" ml-5 flex">
            <p>Filter by type:</p>
            <select name="type" id="type" class="focus:text-indigo-600 focus:outline-none bg-transparent ml-1"
                    onchange="this.form.submit()">
              <option value="">All</option>
              {% for type_choice in type_choices %}
                <option value="{{ type_choice.0 }}"
                        {% if request.GET.type == type_choice.0 %}selected{% endif %}>{{ type_choice.1 }}</option>
              {% endfor %}
            </select>
          </form>
        </div>
        <!-- End filter and order -->
      </div>
      <div class="mt-7 overflow-x-auto">
        <table class="w-full whitespace-nowrap">
          <tbody>
          {% for organization in organizations %}
            {% if organization.id != 1 and organization.type != "promoter" %}
              <tr tabindex="0" class="focus:outline-none h-16 border border-gray-100 dark:border-gray-600  rounded">
                <td>
                  {% if organization.logo %}
              <img class="w-[75px] h-[75px] object-cover object-center" src="{{organization.logo.url}}" alt="Your Image Description">
              {% else %}
                  <img alt="ecommerce" class="object-cover object-center w-full h-full block"
                       src="https://dummyimage.com/75x75">
              {% endif %}
                </td>
                <td class="">
                  <div class="flex items-center pl-5">
                    <a class="text-base font-medium leading-none text-orange-600 hover:text-orange-800 dark:text-white  mr-2"
                       href="{% url 'membership:organization_detail' organization.pk %}">{{ organization.name }}</a>
                  </div>
                  <div class="flex items-center pl-5">
                    <p class="text-base text-xs leading-none text-gray-400 dark:text-white  mr-2">
                      {{ organization.blurb }} </p>
                  </div>
                </td>
                <td class="pl-24">
                  <div class="flex items-center">
                    {% if organization.is_usac %}
                      <img src="{% static "images/USACycling_Logo.svg" %}" style="max-width:17px" alt="usac">
                    {% else %}
                      <i class="fa-solid fa-person-biking fa-sm" style="color: #5ec5c5;"></i>
                    {% endif %}
                    <p class="text-sm leading-none text-gray-600 dark:text-gray-200  ml-2">{{ organization.get_type_display }}</p>
                  </div>
                </td>
                <td class="pl-4">
                  <p class="text-base text-sm leading-none text-gray-400 dark:text-white  mr-2">
                    Members: {{ organization.members.count }}
                  </p>
                </td>
                <td class="pl-4">
                  <p class="text-base text-sm leading-none text-gray-400 dark:text-white  mr-2">
                    {% if organization.city %}
                      {{ organization.city }}
                    {% endif %}
                    {% if organization.state %}
                      , {{ organization.state }}
                    {% endif %}
                  </p>
                </td>
                <!--                                <td>-->
                <!--                                    <div class="relative px-5 pt-2">-->
                <!--                                        <button class="focus:ring-2 rounded-md focus:outline-none" onclick="dropdownFunction(this)" role="button" aria-label="option">-->
                <!--                                           <img  class="dropbtn" onclick="dropdownFunction(this)" src="https://tuk-cdn.s3.amazonaws.com/can-uploader/tasks-svg6.svg" alt="dropdown">-->
                <!--                                        </button>-->
                <!--                                        <div class="dropdown-content bg-white shadow w-24 absolute z-30 right-0 mr-6 hidden">-->
                <!--                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">-->
                <!--                                                <p>Edit</p>-->
                <!--                                            </div>-->
                <!--                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">-->
                <!--                                                <p>Delete</p>-->
                <!--                                            </div>-->
                <!--                                        </div>-->
                <!--                                    </div>-->
                <!--                                </td>-->
              </tr>
              <tr class="h-3"></tr>


            {% endif %}

          {% endfor %}
          <!--Empty code-->
          <!--                        <div class="w-full h-full flex items-center justify-center">-->
          <!--                          <div class="bg-white  rounded-lg p-6 max-w-md">-->
          <!--                            <div class="text-center">-->

          <!--                              <h2 class="text-2xl font-semibold text-gray-800">No Clubs found</h2>-->
          <!--                              <p class="text-gray-600 mt-2">There's nothing here yet.</p>-->

          <!--                            </div>-->
          <!--                          </div>-->
          <!--                        </div>-->

          </tbody>
        </table>
      </div>
      <div class="mt-8">
        <nav class="flex justify-center">
          <ul class="inline-flex list-none">
            {% if page_obj.has_previous %}
              <li>
                <a href="?page=1" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l">
                  First
                </a>
              </li>
              <li>
                <a href="?page={{ page_obj.previous_page_number }}"
                   class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                  Prev
                </a>
              </li>
            {% endif %}

            {% for i in paginator.page_range %}
              {% if page_obj.number == i %}
                <li>
                  <a href="?page={{ i }}" class="bg-blue-500 text-white font-bold py-2 px-4">
                    {{ i }}
                  </a>
                </li>
              {% else %}
                <li>
                  <a href="?page={{ i }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                    {{ i }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
              <li>
                <a href="?page={{ page_obj.next_page_number }}"
                   class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                  Next
                </a>
              </li>
              <li>
                <a href="?page={{ paginator.num_pages }}"
                   class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r">
                  Last
                </a>
              </li>
            {% endif %}
          </ul>
        </nav>
      </div>

    </div>
    <br>
  </div>
  <style>
      .checkbox:checked + .check-icon {
          display: flex;
      }
  </style>
  <script>
      function dropdownFunction(element) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          let list = element.parentElement.parentElement.getElementsByClassName("dropdown-content")[0];
          list.classList.add("target");
          for (i = 0; i < dropdowns.length; i++) {
              if (!dropdowns[i].classList.contains("target")) {
                  dropdowns[i].classList.add("hidden");
              }
          }
          list.classList.toggle("hidden");
      }
  </script>

{% endblock %}
