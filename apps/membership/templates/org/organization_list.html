{% extends "account/base.html" %}
{% load static %}
{% block inner %}

        <div class="sm:px-6 w-full">
            <div class="px-4 md:px-10 py-4 md:py-7">
                <div class="flex items-center justify-between">
                    <p tabindex="0" class="focus:outline-none text-base sm:text-lg md:text-xl lg:text-2xl font-bold leading-normal text-gray-800 dark:text-white">Clubs</p>
                    <div class="py-3 px-4 flex items-center text-sm font-medium leading-none text-gray-600 dark:text-gray-200  bg-gray-200 dark:bg-gray-800  hover:bg-gray-300   dark:hover:bg-gray-700  cursor-pointer rounded">
                      <form method="GET" class="flex">

                        <p>Sort By:</p>
                        <select name="sort" id="sort" aria-label="select" class="focus:text-indigo-600 focus:outline-none bg-transparent ml-1" onchange="this.form.submit()">
                            <option class="text-sm text-indigo-800" value="">Default</option>
                            <option class="text-sm text-indigo-800" value="name" {% if request.GET.sort == 'name' %}selected{% endif %}>Name (A-Z)</option>
                            <option class="text-sm text-indigo-800" value="-name" {% if request.GET.sort == '-name' %}selected{% endif %}>Name (Z-A)</option>
                            <option class="text-sm text-indigo-800" value="type" {% if request.GET.sort == 'type' %}selected{% endif %}>Type (A-Z)</option>
                            <option class="text-sm text-indigo-800" value="-type" {% if request.GET.sort == '-type' %}selected{% endif %}>Type (Z-A)</option>
                            <option class="text-sm text-indigo-800" value="city" {% if request.GET.sort == 'city' %}selected{% endif %}>City (A-Z)</option>
                            <option class="text-sm text-indigo-800" value="-city" {% if request.GET.sort == '-city' %}selected{% endif %}>City (Z-A)</option>
                            <option class="text-sm text-indigo-800" value="state" {% if request.GET.sort == 'state' %}selected{% endif %}>State (A-Z)</option>
                            <option class="text-sm text-indigo-800" value="-state" {% if request.GET.sort == '-state' %}selected{% endif %}>State (Z-A)</option>
                        </select>
                    </form>
                      <form  method="GET" class=" ml-5 flex">

                        <p>Filter by type:</p>
                        <select name="type" id="type" class="focus:text-indigo-600 focus:outline-none bg-transparent ml-1" onchange="this.form.submit()">
                          <option value="">All</option>
                          {% for type_choice in type_choices %}
                              <option value="{{ type_choice.0 }}" {% if request.GET.type == type_choice.0 %}selected{% endif %}>{{ type_choice.1 }}</option>
                          {% endfor %}
                      </select>
                    </form>

                    </div>
                </div>
            </div>
            <div class="bg-white dark:bg-gray-900  py-4 md:py-7 px-4 md:px-8 xl:px-10">
                <div class="sm:flex items-center justify-between">
                    <div class="flex items-center">
                      <form method="GET" class="flex">
                        <input type="search" name="search" placeholder="Search" value="{{ request.GET.search }}" class="border border-gray-300 py-2 px-4 rounded-l">
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r">
                            Search
                        </button>
                    </form>
                        <a class="rounded-full focus:outline-none focus:ring-2  focus:bg-indigo-50 focus:ring-indigo-800" href=" javascript:void(0)">
<!--                            <div class="py-2 px-8 bg-indigo-100 text-indigo-700 rounded-full">-->
<!--                                <p>All</p>-->
<!--                            </div>-->
                        </a>
<!--                        <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" href="javascript:void(0)">-->
<!--                            <div class="py-2 px-8 text-gray-600 dark:text-gray-200  hover:text-indigo-700 hover:bg-indigo-100 rounded-full ">-->
<!--                                <p>Done</p>-->
<!--                            </div>-->
<!--                        </a>-->
<!--                        <a class="rounded-full focus:outline-none focus:ring-2 focus:bg-indigo-50 focus:ring-indigo-800 ml-4 sm:ml-8" href="javascript:void(0)">-->
<!--                            <div class="py-2 px-8 text-gray-600 dark:text-gray-200  hover:text-indigo-700 hover:bg-indigo-100 rounded-full ">-->
<!--                                <p>Pending</p>-->
<!--                            </div>-->
<!--                        </a>-->
                    </div>

                    <button href="{% url 'membership:create_organization' %}" class="focus:ring-2 focus:ring-offset-2 focus:ring-indigo-600 mt-4 sm:mt-0 inline-flex items-start justify-start px-6 py-3 bg-indigo-700 hover:bg-indigo-600 focus:outline-none rounded">
                        <p class="text-sm font-medium leading-none text-white">
                        <a href="{% url 'membership:create_organization' %}" >
                Register Club
            </a></p>
                    </button>
                </div>
                <div class="mt-7 overflow-x-auto">
                    <table class="w-full whitespace-nowrap">
                        <tbody>
                        {% for organization in organizations %}
                          {% if organization.id != 1 %}
                        <tr tabindex="0" class="focus:outline-none h-16 border border-gray-100 dark:border-gray-600  rounded">
                                <td>

                                </td>
                                <td class="">
                                    <div class="flex items-center pl-5">
                                        <p class="text-base font-medium leading-none text-gray-700 dark:text-white  mr-2">{{ organization.name }}</p>
                                          {% if  organization.website %}
                                            <a target="_blank" href="{{organization.website}}">
                                            <img src="https://tuk-cdn.s3.amazonaws.com/can-uploader/tasks-svg1.svg" alt="clip">
                                            </a>
                                          {% endif%}
                                    </div>
                                </td>
                                <td class="pl-24">
                                    <div class="flex items-center">
                                       <img src="https://tuk-cdn.s3.amazonaws.com/can-uploader/tasks-svg2.svg" alt="tag">
                                        <p class="text-sm leading-none text-gray-600 dark:text-gray-200  ml-2">{{ organization.get_type_display }}</p>
                                    </div>
                                </td>


                                {% if not organization.approved %}
                                <td class="pl-5">
                                    <button class="py-3 px-3 text-sm focus:outline-none leading-none text-red-700 bg-red-100 rounded">Waiting for BC approval</button>
                                </td>
                                {% endif  %}
                                <td class="pl-4">
                                    <button class="focus:ring-2 focus:ring-offset-2 focus:ring-red-300 text-sm leading-none text-gray-600 dark:text-gray-200  py-3 px-5 bg-gray-100 rounded hover:bg-gray-200 dark:hover:bg-gray-700   dark:bg-gray-800  focus:outline-none"> <a href="{% url 'membership:organization_detail' organization.pk %}">View</a> </button>
                                </td>
<!--                                <td>-->
<!--                                    <div class="relative px-5 pt-2">-->
<!--                                        <button class="focus:ring-2 rounded-md focus:outline-none" onclick="dropdownFunction(this)" role="button" aria-label="option">-->
<!--                                           <img  class="dropbtn" onclick="dropdownFunction(this)" src="https://tuk-cdn.s3.amazonaws.com/can-uploader/tasks-svg6.svg" alt="dropdown">-->
<!--                                        </button>-->
<!--                                        <div class="dropdown-content bg-white shadow w-24 absolute z-30 right-0 mr-6 hidden">-->
<!--                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">-->
<!--                                                <p>Edit</p>-->
<!--                                            </div>-->
<!--                                            <div tabindex="0" class="focus:outline-none focus:text-indigo-600 text-xs w-full hover:bg-indigo-700 py-4 px-4 cursor-pointer hover:text-white">-->
<!--                                                <p>Delete</p>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </td>-->
                            </tr>
                        <tr class="h-3"></tr>


                          {% endif %}

                        {% endfor %}
<!--Empty code-->
<!--                        <div class="w-full h-full flex items-center justify-center">-->
<!--                          <div class="bg-white  rounded-lg p-6 max-w-md">-->
<!--                            <div class="text-center">-->

<!--                              <h2 class="text-2xl font-semibold text-gray-800">No Clubs found</h2>-->
<!--                              <p class="text-gray-600 mt-2">There's nothing here yet.</p>-->

<!--                            </div>-->
<!--                          </div>-->
<!--                        </div>-->

                        </tbody>
                    </table>
                </div>
                <div class="mt-8">
            <nav class="flex justify-center">
                <ul class="inline-flex list-none">
                    {% if page_obj.has_previous %}
                    <li>
                        <a href="?page=1" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l">
                            First
                        </a>
                    </li>
                    <li>
                        <a href="?page={{ page_obj.previous_page_number }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                            Prev
                        </a>
                    </li>
                    {% endif %}

                    {% for i in paginator.page_range %}
                        {% if page_obj.number == i %}
                            <li>
                                <a href="?page={{ i }}" class="bg-blue-500 text-white font-bold py-2 px-4">
                                    {{ i }}
                                </a>
                            </li>
                        {% else %}
                            <li>
                                <a href="?page={{ i }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                                    {{ i }}
                                </a>
                            </li>
                        {% endif %}
                    {% endfor %}

                    {% if page_obj.has_next %}
                    <li>
                        <a href="?page={{ page_obj.next_page_number }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4">
                            Next
                        </a>
                    </li>
                    <li>
                        <a href="?page={{ paginator.num_pages }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r">
                            Last
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>

            </div>
          <br>
        </div>
        <style>
            .checkbox:checked + .check-icon {
                display: flex;
            }
        </style>
      <script>
        function dropdownFunction(element) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            let list = element.parentElement.parentElement.getElementsByClassName("dropdown-content")[0];
            list.classList.add("target");
            for (i = 0; i < dropdowns.length; i++) {
                if (!dropdowns[i].classList.contains("target")) {
                    dropdowns[i].classList.add("hidden");
                }
            }
            list.classList.toggle("hidden");
        }
      </script>

{% endblock %}
